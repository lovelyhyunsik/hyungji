<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width= , initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="./css/reset.css">
    <link rel="stylesheet" href="./css/common.css">
    <link rel="stylesheet" href="./css/coupon_apply.css">
    <link rel="stylesheet" href="./css/swiper.css">
    <link rel="stylesheet" href="css/swiper-bundle.min.css" />
    <script src="https://code.jquery.com/jquery-3.6.3.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/swiper@8/swiper-bundle.min.js"></script>
</head>
<body>
    <div id="coupon_apply">
        <div>
            <header id="header_type2">
                <div>
                    <p>쿠폰적용</p>
                    <div class="header_ico_wrap">
                        <a href="./order_page.php" class="ico_left_arrow"></a>
                    </div>
                </div>
            </header>
            <div class="bigSale">
                <label>
                    <input type="checkbox" id="check_btn">
                    <span>최대 할인혜택 적용하기</span>
                </label>
            </div>
            <section id="order_item_wrap">
                <div class="order_item_container">
                    <div class="brand_name">CHATELAINE</div>
                    <div class="order_item_container_b">
                        <div class="order_item_img">
                            <img src="./img/item_2.png" alt="">
                        </div>
                        <div class="order_item_container_bl"> 
                            <p class="item_name">라운드넥 아가일 니트</p>
                            <p class="item_orderNumber">CLAWSW102</p>
                            <div class="item_option">
                                <p class="item_color">네이비</p>
                                <p class="item_size">55</p>
                                <p class="item_count">1개</p>
                            </div>
                            <p class="item_price">127000원</p>
                        </div>
                    </div>
                    <div class="discountPrice"><!-- 셀렉트박스 선택되면 나타나게 -->
                        <div class="discountPrice_l">할인금액</div>
                        <div class="discountPrice_r"><span>-254000</span>원</div>
                    </div> 
                    <div class="selectBoxType">
                        <button class="label">쿠폰을 선택해주세요</button>
                        <ul class="optionItemWrap">
                            <li class="optionItem">첫 구매 10%할인 쿠폰</li>
                            <li class="optionItem">첫 구매 20%할인 쿠폰</li>
                            <li class="optionItem">첫 구매 30%할인 쿠폰</li>
                            <li class="optionItem">첫 구매 40%할인 쿠폰</li>
                            <li class="optionItem">첫 구매 50%할인 쿠폰</li>
                        </ul>
                    </div>
                </div>
                <div class="order_item_container">
                    <div class="brand_name">CHATELAINE</div>
                    <div class="order_item_container_b">
                        <div class="order_item_img">
                            <img src="./img/item_2.png" alt="">
                        </div>
                        <div class="order_item_container_bl">
                            <p class="item_name">라운드넥 아가일 니트</p>
                            <p class="item_orderNumber">CLAWSW102</p>
                            <div class="item_option">
                                <p class="item_color">네이비</p>
                                <p class="item_size">55</p>
                                <p class="item_count">1개</p>
                            </div>
                            <p class="item_price">127000원</p>
                        </div>
                    </div>
                    <div class="discountPrice"><!-- 셀렉트박스 선택되면 나타나게 -->
                        <div class="discountPrice_l">할인금액</div>
                        <div class="discountPrice_r"><span>-254000</span>원</div>
                    </div> 
                    <div class="selectBoxType">
                        <button class="label">쿠폰을 선택해주세요</button>
                        <ul class="optionItemWrap">
                            <li class="optionItem">첫 구매 10%할인 쿠폰</li>
                            <li class="optionItem">첫 구매 20%할인 쿠폰</li>
                            <li class="optionItem">첫 구매 30%할인 쿠폰</li>
                            <li class="optionItem">첫 구매 40%할인 쿠폰</li>
                            <li class="optionItem">첫 구매 50%할인 쿠폰</li>
                        </ul>
                    </div>
                </div>
                <div class="order_item_container">
                    <div class="brand_name">CHATELAINE</div>
                    <div class="order_item_container_b">
                        <div class="order_item_img">
                            <img src="./img/item_2.png" alt="">
                        </div>
                        <div class="order_item_container_bl"> 
                            <p class="item_name">라운드넥 아가일 니트</p>
                            <p class="item_orderNumber">CLAWSW102</p>
                            <div class="item_option">
                                <p class="item_color">네이비</p>
                                <p class="item_size">55</p>
                                <p class="item_count">1개</p>
                            </div>
                            <p class="item_price">127000원</p>
                        </div>
                    </div>
                    <div class="discountPrice"><!-- 셀렉트박스 선택되면 나타나게 -->
                        <div class="discountPrice_l">할인금액</div>
                        <div class="discountPrice_r"><span>-254000</span>원</div>
                    </div> 
                    <div class="selectBoxType">
                        <button class="label">쿠폰을 선택해주세요</button>
                        <ul class="optionItemWrap">
                            <li class="optionItem">첫 구매 10%할인 쿠폰</li>
                            <li class="optionItem">첫 구매 20%할인 쿠폰</li>
                            <li class="optionItem">첫 구매 30%할인 쿠폰</li>
                            <li class="optionItem">첫 구매 40%할인 쿠폰</li>
                            <li class="optionItem">첫 구매 50%할인 쿠폰</li>
                        </ul>
                    </div>
                </div>
            </section>
            <div id="bottom">
                <button><span>25400</span>원 할인 적용</button>
            </div>
        </div>
    </div>
</body>
<script>
    $('.selectBoxType>button').click(function(){
        $(this).toggleClass('on')
        $(this).siblings('.optionItemWrap').toggleClass('on')
    })

    $('.optionItem').click(function(){
        var textChange = $(this).text();
        var targetLabel = $(this).closest('.selectBoxType').children('.label');
        var targetDiscount = $(this).closest('.selectBoxType').siblings('.discountPrice')
        targetLabel.text(textChange);

        $(this).parent('.optionItemWrap').toggleClass('on')
        $(targetLabel).removeClass('on')
        $(targetLabel).css("color","#222")
        $('.selectBoxType>.optionItemWrap>.optionItem').css("background","none")
        $(this).css("background","#f5f5f5")
        $(targetDiscount).css("display","block")
    })
</script>
</html>